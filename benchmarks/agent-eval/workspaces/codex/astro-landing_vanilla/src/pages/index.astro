---
import BaseLayout from "../layouts/BaseLayout.astro";

const features = [
  {
    title: "Unified Project Timeline",
    description: "Map every milestone in one timeline so product, design, and engineering move in lockstep.",
    icon: "M3 5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2v3H3V5Zm0 5h18v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-9Zm4 2v2h4v-2H7Z"
  },
  {
    title: "Automated Workflows",
    description: "Trigger recurring tasks, approvals, and reminders automatically with no-code rules.",
    icon: "M12 2 4 6v12l8 4 8-4V6l-8-4Zm0 3.1L16.6 7 12 8.9 7.4 7 12 5.1ZM6 9.2l5 2.5v6.2L6 15.4V9.2Zm7 8.7v-6.2l5-2.5v6.2l-5 2.5Z"
  },
  {
    title: "Real-Time Collaboration",
    description: "Comment, tag teammates, and resolve blockers live inside every task and document.",
    icon: "M9 3a4 4 0 0 0-4 4v1H3v4h2v1a4 4 0 0 0 4 4h1v2l4-2h1a4 4 0 0 0 4-4v-1h2V8h-2V7a4 4 0 0 0-4-4H9Zm0 2h6a2 2 0 0 1 2 2v1H7V7a2 2 0 0 1 2-2Zm-2 5h10v3a2 2 0 0 1-2 2h-1.5l-1.5.75V15H9a2 2 0 0 1-2-2v-3Z"
  },
  {
    title: "Capacity Planning",
    description: "Balance workload by team, sprint, and initiative with instant visibility into bandwidth.",
    icon: "M4 4h16v2H4V4Zm0 4h10v2H4V8Zm0 4h16v2H4v-2Zm0 4h10v2H4v-2Zm12-8h4v10h-4V8Z"
  },
  {
    title: "Custom Dashboards",
    description: "Track KPIs with drag-and-drop dashboards tailored to each stakeholder.",
    icon: "M4 4h7v7H4V4Zm9 0h7v4h-7V4ZM4 13h4v7H4v-7Zm6 0h10v7H10v-7Z"
  },
  {
    title: "Enterprise Security",
    description: "Protect sensitive work with SSO, audit logs, role controls, and data encryption.",
    icon: "M12 2 5 5v6c0 5 3.4 9.3 7 11 3.6-1.7 7-6 7-11V5l-7-3Zm0 3.2 5 2.1v3.7c0 3.8-2.4 7.1-5 8.5-2.6-1.4-5-4.7-5-8.5V7.3l5-2.1Zm-1 4.8h2v5h-2v-5Zm0 6.5h2v2h-2v-2Z"
  }
] as const;

const steps = [
  {
    title: "Plan The Sprint",
    description: "Create boards in minutes, import backlog items, and align goals with clear ownership."
  },
  {
    title: "Execute In Real Time",
    description: "Move work across stages, collaborate in context, and automate repetitive updates."
  },
  {
    title: "Review And Improve",
    description: "Use reports and cycle-time insights to tighten delivery and improve predictability."
  }
] as const;

const pricingTiers = [
  {
    name: "Free",
    price: "$0",
    subtitle: "For early-stage teams",
    cta: "Start Free",
    featured: false,
    features: ["Up to 5 users", "3 project boards", "Basic reporting", "Email support"]
  },
  {
    name: "Pro",
    price: "$12/mo",
    subtitle: "Per user, billed monthly",
    cta: "Start Pro Trial",
    featured: true,
    features: ["Unlimited users", "Unlimited boards", "Automation rules", "Time tracking", "Priority support"]
  },
  {
    name: "Enterprise",
    price: "$49/mo",
    subtitle: "Per user, billed monthly",
    cta: "Talk To Sales",
    featured: false,
    features: ["Everything in Pro", "SSO + SCIM", "Advanced permissions", "Audit trails", "Dedicated success manager"]
  }
] as const;

const comparisonRows = [
  { feature: "Users", free: "5", pro: "Unlimited", enterprise: "Unlimited" },
  { feature: "Boards", free: "3", pro: "Unlimited", enterprise: "Unlimited" },
  { feature: "Automation", free: "No", pro: "Yes", enterprise: "Yes" },
  { feature: "SSO", free: "No", pro: "No", enterprise: "Yes" },
  { feature: "Support", free: "Email", pro: "Priority", enterprise: "Dedicated" }
] as const;

const testimonials = [
  {
    quote: "FlowBoard replaced three disconnected tools. We now run standups and sprint planning from one source of truth.",
    name: "Maya Rios",
    role: "Head of Product, NexLift",
    avatar: "/images/avatar-1.svg"
  },
  {
    quote: "Our cycle time dropped by 28% in two months. The workload view helped us catch bottlenecks immediately.",
    name: "Jordan Patel",
    role: "Engineering Manager, PilotForge",
    avatar: "/images/avatar-2.svg"
  },
  {
    quote: "Automation and dashboard reporting saved our operations team at least ten hours every week.",
    name: "Renee Cole",
    role: "Operations Lead, BeaconWorks",
    avatar: "/images/avatar-3.svg"
  }
] as const;

const faqs = [
  {
    question: "Can I migrate from Trello, Asana, or Jira?",
    answer: "Yes. FlowBoard includes CSV and API-based import tools for major project management platforms."
  },
  {
    question: "Is there a free trial for Pro?",
    answer: "Yes. Every workspace gets a 14-day Pro trial with no credit card required."
  },
  {
    question: "Do you offer annual billing?",
    answer: "Yes. Annual plans include a 20% discount compared to monthly pricing."
  },
  {
    question: "How secure is my team data?",
    answer: "FlowBoard uses encryption in transit and at rest, role-based permissions, and full audit logging."
  },
  {
    question: "Can external stakeholders join specific boards?",
    answer: "Yes. You can invite guests to selected boards and define granular access per board and role."
  },
  {
    question: "Do you provide onboarding support?",
    answer: "Pro includes onboarding templates, and Enterprise includes dedicated implementation guidance."
  }
] as const;
---

<BaseLayout>
  <header class="site-header" id="top">
    <div class="container header-inner">
      <a class="brand" href="#top" aria-label="FlowBoard home">FlowBoard</a>
      <button
        class="nav-toggle"
        type="button"
        aria-controls="primary-nav"
        aria-expanded="false"
        data-menu-toggle
      >
        <span class="nav-toggle-bar"></span>
        <span class="nav-toggle-bar"></span>
        <span class="nav-toggle-bar"></span>
        <span class="sr-only">Toggle navigation</span>
      </button>
      <nav aria-label="Primary" class="primary-nav">
        <ul class="nav-list" id="primary-nav" data-nav-list>
          <li><a href="#features">Features</a></li>
          <li><a href="#how-it-works">How It Works</a></li>
          <li><a href="#pricing">Pricing</a></li>
          <li><a href="#testimonials">Testimonials</a></li>
          <li><a href="#faq">FAQ</a></li>
          <li><a href="#contact">Contact</a></li>
        </ul>
      </nav>
    </div>
  </header>

  <main id="main-content">
    <section class="hero section" id="hero">
      <div class="container hero-grid">
        <div>
          <p class="eyebrow">Project Management That Flows</p>
          <h1>Keep Every Team Aligned From Idea To Launch</h1>
          <p class="hero-subheadline">
            FlowBoard helps teams plan work, automate routines, and ship faster with total visibility.
          </p>
          <form class="hero-cta" aria-label="Join the FlowBoard waitlist">
            <label for="hero-email" class="sr-only">Email address</label>
            <input
              id="hero-email"
              name="hero-email"
              type="email"
              placeholder="Enter your work email"
              autocomplete="email"
              required
            />
            <button type="submit" class="btn btn-primary">Get Early Access</button>
          </form>
        </div>
        <div class="hero-visual">
          <img
            src="/images/hero-illustration.svg"
            alt="FlowBoard dashboard preview with tasks and progress charts"
            width="560"
            height="430"
            loading="lazy"
            decoding="async"
          />
        </div>
      </div>
    </section>

    <section class="section" id="features" aria-labelledby="features-heading">
      <div class="container">
        <h2 id="features-heading">Everything You Need To Run High-Output Teams</h2>
        <div class="features-grid">
          {features.map((feature) => (
            <article class="feature-card">
              <div class="feature-icon" aria-hidden="true">
                <svg viewBox="0 0 24 24" role="presentation" focusable="false">
                  <path d={feature.icon}></path>
                </svg>
              </div>
              <h3>{feature.title}</h3>
              <p>{feature.description}</p>
            </article>
          ))}
        </div>
      </div>
    </section>

    <section class="section section-contrast" id="how-it-works" aria-labelledby="how-heading">
      <div class="container">
        <h2 id="how-heading">How FlowBoard Works</h2>
        <ol class="steps-grid">
          {steps.map((step, index) => (
            <li class="step-card">
              <span class="step-number" aria-hidden="true">{index + 1}</span>
              <h3>{step.title}</h3>
              <p>{step.description}</p>
            </li>
          ))}
        </ol>
      </div>
    </section>

    <section class="section" id="pricing" aria-labelledby="pricing-heading">
      <div class="container">
        <h2 id="pricing-heading">Simple Pricing That Scales With You</h2>
        <div class="pricing-grid">
          {pricingTiers.map((tier) => (
            <article class:list={["pricing-card", tier.featured && "pricing-card-featured"]}>
              <h3>{tier.name}</h3>
              <p class="price">{tier.price}</p>
              <p>{tier.subtitle}</p>
              <ul>
                {tier.features.map((item) => (
                  <li>{item}</li>
                ))}
              </ul>
              <a class:list={["btn", tier.featured ? "btn-primary" : "btn-secondary"]} href="#contact">
                {tier.cta}
              </a>
            </article>
          ))}
        </div>
        <div class="comparison-wrap" role="region" aria-label="Plan feature comparison">
          <table class="comparison-table">
            <caption>Feature Comparison</caption>
            <thead>
              <tr>
                <th scope="col">Feature</th>
                <th scope="col">Free</th>
                <th scope="col">Pro</th>
                <th scope="col">Enterprise</th>
              </tr>
            </thead>
            <tbody>
              {comparisonRows.map((row) => (
                <tr>
                  <th scope="row">{row.feature}</th>
                  <td>{row.free}</td>
                  <td>{row.pro}</td>
                  <td>{row.enterprise}</td>
                </tr>
              ))}
            </tbody>
          </table>
        </div>
      </div>
    </section>

    <section class="section section-contrast" id="testimonials" aria-labelledby="testimonials-heading">
      <div class="container">
        <h2 id="testimonials-heading">Teams That Trust FlowBoard</h2>
        <div class="testimonials-grid">
          {testimonials.map((testimonial) => (
            <figure class="testimonial-card">
              <blockquote>
                <p>{testimonial.quote}</p>
              </blockquote>
              <figcaption>
                <img
                  src={testimonial.avatar}
                  alt={`${testimonial.name} portrait`}
                  width="56"
                  height="56"
                  loading="lazy"
                  decoding="async"
                />
                <div>
                  <strong>{testimonial.name}</strong>
                  <span>{testimonial.role}</span>
                </div>
              </figcaption>
            </figure>
          ))}
        </div>
      </div>
    </section>

    <section class="section" id="faq" aria-labelledby="faq-heading">
      <div class="container narrow">
        <h2 id="faq-heading">Frequently Asked Questions</h2>
        <div class="faq-list" data-faq-root>
          {faqs.map((item, index) => (
            <article class="faq-item" data-faq-item>
              <h3>
                <button
                  type="button"
                  class="faq-question"
                  id={`faq-button-${index}`}
                  aria-expanded={index === 0 ? "true" : "false"}
                  aria-controls={`faq-panel-${index}`}
                  data-faq-button
                >
                  {item.question}
                </button>
              </h3>
              <div
                class="faq-answer"
                id={`faq-panel-${index}`}
                role="region"
                aria-labelledby={`faq-button-${index}`}
                data-faq-panel
                hidden={index === 0 ? undefined : true}
              >
                <p>{item.answer}</p>
              </div>
            </article>
          ))}
        </div>
      </div>
    </section>

    <section class="section section-contrast" id="contact" aria-labelledby="contact-heading">
      <div class="container narrow">
        <h2 id="contact-heading">Contact Us</h2>
        <p class="section-copy">Tell us about your team and we will get in touch with the right plan.</p>
        <form class="contact-form" id="contact-form" novalidate>
          <div class="form-field">
            <label for="name">Name</label>
            <input id="name" name="name" type="text" autocomplete="name" required />
            <p class="field-error" id="name-error" data-error-for="name" aria-live="polite"></p>
          </div>
          <div class="form-field">
            <label for="email">Email</label>
            <input id="email" name="email" type="email" autocomplete="email" required />
            <p class="field-error" id="email-error" data-error-for="email" aria-live="polite"></p>
          </div>
          <div class="form-field">
            <label for="message">Message</label>
            <textarea id="message" name="message" rows={5} required></textarea>
            <p class="field-error" id="message-error" data-error-for="message" aria-live="polite"></p>
          </div>
          <button type="submit" class="btn btn-primary">Send Message</button>
          <p class="form-success" data-form-success hidden role="status" aria-live="polite"></p>
        </form>
      </div>
    </section>
  </main>

  <footer class="site-footer">
    <div class="container footer-grid">
      <div>
        <a class="brand" href="#top">FlowBoard</a>
        <p>Project management for modern product teams.</p>
      </div>
      <nav aria-label="Footer">
        <ul class="footer-links">
          <li><a href="#features">Features</a></li>
          <li><a href="#pricing">Pricing</a></li>
          <li><a href="#faq">FAQ</a></li>
          <li><a href="#contact">Contact</a></li>
        </ul>
      </nav>
      <div class="social-links" aria-label="Social media links">
        <a href="#" aria-label="FlowBoard on X">
          <svg viewBox="0 0 24 24" role="presentation" aria-hidden="true">
            <path d="M18.2 2H21l-6.5 7.4L22 22h-5.9l-4.6-6-5.2 6H3.5l7-8-7.2-12h6l4.1 5.6L18.2 2Zm-1 18h1.6L8.4 4H6.7L17.2 20Z"></path>
          </svg>
        </a>
        <a href="#" aria-label="FlowBoard on LinkedIn">
          <svg viewBox="0 0 24 24" role="presentation" aria-hidden="true">
            <path d="M6.9 8.2v12H3v-12h3.9ZM5 2a2.2 2.2 0 1 1 0 4.4A2.2 2.2 0 0 1 5 2Zm5 6.2h3.7v1.6h.1c.5-.9 1.8-1.9 3.8-1.9 4.1 0 4.9 2.7 4.9 6.2v6.1h-3.9v-5.4c0-1.3 0-3-1.9-3s-2.2 1.5-2.2 2.9v5.5H10v-12Z"></path>
          </svg>
        </a>
        <a href="#" aria-label="FlowBoard on GitHub">
          <svg viewBox="0 0 24 24" role="presentation" aria-hidden="true">
            <path d="M12 2a10 10 0 0 0-3.2 19.5c.5.1.7-.2.7-.5v-1.9c-2.8.6-3.4-1.2-3.4-1.2-.5-1.2-1.1-1.5-1.1-1.5-.9-.6.1-.6.1-.6 1 .1 1.6 1.1 1.6 1.1.9 1.6 2.4 1.1 3 .8.1-.6.3-1.1.6-1.3-2.2-.3-4.6-1.1-4.6-5 0-1.1.4-2 1.1-2.8-.1-.2-.5-1.3.1-2.8 0 0 .9-.3 2.9 1.1a10 10 0 0 1 5.2 0c2-1.4 2.9-1.1 2.9-1.1.6 1.5.2 2.6.1 2.8.7.8 1.1 1.7 1.1 2.8 0 3.9-2.4 4.7-4.7 5 .4.3.7 1 .7 2v3c0 .3.2.6.7.5A10 10 0 0 0 12 2Z"></path>
          </svg>
        </a>
      </div>
    </div>
    <div class="footer-bottom">
      <p>&copy; {new Date().getFullYear()} FlowBoard. All rights reserved.</p>
    </div>
  </footer>

  <script>
    import { initializePage } from "../scripts/main";

    initializePage();
  </script>
</BaseLayout>
